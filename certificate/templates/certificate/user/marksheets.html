{% load static %}

{% block content %}
    <style>
        @media print {
            body {
                margin: 0;
                padding: 0;
                font-size: 10px !important;
            }

            #backButton {
                display: none;
            }

            #downloadButton {
                display: none;
            }
        }

        .certificate-qr-code {
            width: 200px;
        }
        .certificate-iso {
            height: 10% !important;
            width: 10% !important;
        }
        .certificate-iaf {
            height: -10%;
            width: -10%;
        }
    </style>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Certificate</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="{% static 'css/styles.css' %}">
        <link rel="stylesheet" href="{% static 'css/marksheet.css' %}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:ital,wght@0,100;0,300;0,700;1,300;1,400&family=Rubik+Distressed&display=swap" rel="stylesheet">
    </head>

    <body>
        <div class="certificate-container">
            <div class="certificate-border">
                <div class="certificate-content text-center">
                    <!-- Logo Images and Title -->
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="certificate-headers">
                            <img src="{% static 'app_common/images/msme.png' %}" alt="Certificate Logo">
                        </div>
                        <div class="certificate-headers">
                            <img src="{% static 'app_common/images/digi.png' %}" alt="Certificate Logo">
                        </div>
                        <div class="certificate-header">
                            <img src="{% static 'images/logoMain.png' %}" alt="Certificate Logo" class="certificate-logo">
                        </div>
                        <div class="certificate-headers2">
                            <img src="{% static 'app_common/images/beti.png' %}" alt="Certificate Logo">
                        </div>
                        <div class="certificate-headers2">
                            <img src="{% static 'app_common/images/swatch.png' %}" alt="Certificate Logo">
                        </div>
                    </div>

                    <!-- Certificate Content -->
                    <div class="content_div">
                        <h1 class="bebas-neue-regular">RATIONAL EDUCATION AND COMPUTER TRAINING</h1>
                        <br>
                        <p><b>As ISO 9001:2015 Certified Organization</b></p>
                        <u><h1 class="marksheet">STATEMENT OF MARKS</h1></u>
                    </div>

                    <!-- Student and Course Info -->
                    <div class="row">
                        <div class="col-5 text-start">
                            <p><b>Student Name:</b> {{ student_name }}</p>
                            <p><b>Father/Husband Name:</b> {{ father_name }}</p>
                            <p><b>Mother Name:</b> {{ mother_name }}</p>
                        </div>
                        <div class="col-5 text-end">
                            <p><b>Course Duration:</b> {{ course_duration }}</p>
                            <p><b>Marksheets No:</b> {{ marksheet_no }}</p>
                            <p><b>Date of Birth:</b> {{ dob }}</p>
                        </div>
                    </div>
                    
                    <div class="row mt-3">
                        <div class="col-12">
                            <p><b>Course Name:</b> {{ course_name }}</p>
                            <p><b>Institute Name:</b> {{ institute_name }}</p>
                        </div>
                    </div>
                    
                    <!-- Marks Table -->
                    <table class="table table-bordered" style="border: 4px solid black;">
                        <thead>
                            <tr>
                                <th rowspan="4" class="text-center"><b>Subject</b></th>
                                <th class="text-center"><b>Theory Marks</b></th>
                                <th class="text-center"><b>Practical Marks</b></th>
                                <th class="text-center"><b>Total Marks</b></th>
                            </tr>
                            <tr>
                                <td class="text-center"><b>Out of {{ total_theory_marks }}</b></td>
                                <td class="text-center"><b>Out of {{ total_practical_marks }}</b></td>
                                <td class="text-center"><b>Out of {{ total_mark }}</b></td>
                            </tr>
                        </thead>
                        <tbody style="border-top: none;"> <!-- Removed top borders for tbody -->
                            {% for subject in subjects %}
                                <tr>
                                    <td><b>{{ subject.subject }}</b></td>
                                    <td><b>{{ subject.theory_marks }}</b></td>
                                    <td><b>{{ subject.practical_marks }}</b></td> 
                                    <td><b>{{ subject.obtained_marks }}</b></td>
                                </tr>
                            {% endfor %}
                            <tr>
                                <td colspan="3" style="text-align: center;">
                                    <b>Percentage:</b> {{ percentage }} &nbsp;&nbsp;&nbsp;&nbsp; 
                                    <b>Grade:</b> {{ grade }} &nbsp;&nbsp;&nbsp;&nbsp; 
                                    <b>Total Marks:</b> {{ obtained_mark }} / {{ total_mark }} &nbsp;&nbsp;&nbsp;&nbsp;
                                    <b style="font-size: 1.5rem; color: #000;">TOTAL</b><br>
                                </td>
                                <td style="text-align: center;">
                                    <b>{{ obtained_mark }}</b>
                                </td>
                            </tr>                            
                            <tr>
                                <td colspan="4" style="border: none;">
                                    <div style="display: flex; justify-content: space-between;">
                                        <div>
                                            <p><b>Performance:</b></p>
                                            <p>Excellent</p>
                                            <p>Very Good</p>
                                            <p>Good</p>
                                            <p>Average</p>
                                        </div>
                                        <div>
                                            <p><b>Mark Range:</b></p>
                                            <p>(85%-100%)</p>
                                            <p>(70%-84%)</p>
                                            <p>(55%-69%)</p>
                                            <p>(40%-54%)</p>
                                        </div>
                                        <div>
                                            <p><b>Grade:</b></p>
                                            <p>(A+)</p>
                                            <p>(A)</p>
                                            <p>(B)</p>
                                            <p>(C)</p>
                                        </div>
                                    </div>
                                </td>
                            </tr>                                                        
                        </tbody>
                    </table>
                    <div class="d-flex justify-content-center align-items-center">
                        <div class="certificate-iso me-5">
                            <img src="{% static 'app_common/images/ISO.png' %}" alt="Certificate Logo" height="200px">
                        </div>
                        <div class="certificate-iaf">
                            <img src="{% static 'app_common/images/IAF.png' %}" alt="Certificate Logo" height="170px">
                        </div>
                    </div>                    

                    <!-- Signature Area -->
                    <div class="row">
                        <div class="col-3 text-start Left_Signature">
                            <p class="p-0 m-0">---------------------</p>
                            <p style="margin: 0; text-transform: uppercase;">SABITA DASH</p>
                            <p>Controller Of Examination</p>
                        </div>
                        <div class="col-6 p-0">
                            <div class="contact-address">
                                <p>Contact No: 9778577090 / 8895895988 / 8895644410</p>
                                <p>ADDRESS:-AT:SUBASH JENA COLONY (HIGH SCHOOL ROAD, BALUGAON)</p>
                                <p>PO/PS- BALUGAON, ZIP/PIN- 752030, KHORDHA, ODISHA, INDIA</p>
                            </div>
                        </div>
                        <div class="col-3 ms-auto text-end Right_Signature">
                            <p class="p-0 m-0">---------------------------------------</p>
                            <p style="margin: 0; text-transform: uppercase;">BRAJASUNDAR BEHERA</p>
                            <p>Director</p>
                        </div>
                    </div>                    
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-center my-4">
            <button id="backButton" class="btn btn-secondary me-4" onclick="window.history.back();">Back</button>
            <button id="downloadButton" class="btn btn-primary" onclick="window.print();">Download Marksheet</button>
        </div>
    </body>

{% endblock %}
