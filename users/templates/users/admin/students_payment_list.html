{% extends 'users/admin/base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <div class="d-flex justify-content-between align-items-center">
        <h2>Student Payment List</h2>

        <!-- Add New Payment and Export Buttons -->
        <div>
            <a href="{% url 'users:add_new_payment' %}" class="btn btn-primary">Add New Payment</a>
        </div>
    </div>

    <table class="table table-bordered mt-3">
        <thead>
            <tr>
                <th>Sl No</th>
                <th>Student Name</th>
                <th>Course Name</th>
                <th>Total Course Fees</th>
                <th>Fees Paid</th>
                <th>Fees Balance</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for payment in payments %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ payment.student.full_name }}</td>
                    <td>{{ payment.student.course_of_interest.course_name }}</td>
                    <td>{{ payment.student.total_fees }}</td>
                    <td>{{ payment.amount }}</td>
                    <td>{{ payment.student.balance }}</td>
                    <td>
                        <!-- Add any action buttons if needed, such as edit or delete -->
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="7">No records are available.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
