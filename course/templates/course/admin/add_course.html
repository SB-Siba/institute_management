{% extends 'users/admin/base.html' %}

{% block content %}
<div class="container mt-4">
    <h2>{% if course %}Edit{% else %}Add{% endif %} Course</h2>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        
        <div class="form-group">
            <label for="course-subject-input">Subjects</label>
            <input type="text" id="course-subject-input" name="course_subject" class="form-control" placeholder="Enter subject">
        </div>
    
        <button type="submit" name="add_subject" class="btn btn-primary">Add Subject</button>
    
        {% if subjects %}
            <ul>
                {% for subject in subjects %}
                    <li>
                        {{ subject }}
                        <button type="submit" name="delete_subject" value="{{ forloop.counter0 }}" class="btn btn-danger">Delete</button>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    
        <button type="submit" name="add_course" class="btn btn-success">Save Course</button>
        <a href="{% url 'course:course_list' %}" class="btn btn-secondary w-100 mt-2">Cancel</a>
    </form>
</div>
{% endblock %}
